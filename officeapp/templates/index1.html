{% extends 'base.html' %}
{% load static %}
{% block body %}
<!-- <script src="{% static 'assets1/js/calendar.js' %}"></script> -->
<main id="main" class="main">
  <div class="pagetitle">
    <h1>Techsture Dashboard</h1>
</div>
<br>

<style>

.card-header {
    text-align: center;
    color: #000000;
    padding: 5px 5px;
    font-size: 18px;
}

.check-info {
    border-bottom: 1px solid #ebebeb;
}

.user-profile {
    font-weight: bold;
}

.check-in {
    font-weight: bold;
    margin-top: 5px;
    color: #155724; 
}

.check-out {
    font-weight: bold;
    margin-top: 5px;
    color: #721c24; 
}

</style>



    <div class="container-fluid">

      <div class="row">
        {% if  request.session.is_admin == True %} 
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-wrap align-items-center justify-content-between breadcrumb-content">
                        <h5>Announcements</h5>
                        <div class="d-flex flex-wrap align-items-center">
                            <a href="#" class="btn btn-primary" data-target="#new-task-modal"
                                data-toggle="modal">Add Announcements</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
            <!-- <div class="col-lg-4">
                <div class="card card-block card-stretch card-height">
                    <div class="card-body">
                        <div class="card border-bottom">
                            <div class="card-body text-center inln-date flet-datepickr">
                                <input type="text" id="inline-date" class="date-input basicFlatpickr d-none" readonly="readonly">
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->

        <div class="modal fade bd-example-modal-lg" role="dialog" aria-modal="true" id="new-task-modal">
          <div class="modal-dialog  modal-dialog-centered modal-lg" role="document">
              <div class="modal-content">
                  <div class="modal-header d-block text-center pb-3 border-bttom">
                      <h3 class="modal-title" id="exampleModalCenterTitle">Add Announcements</h3>
                  </div>
  
  <!-- ----------- -->
                  <form method="post" enctype="multipart/form-data">
                      {% csrf_token %}
                      <div class="row">
                          
                          <div class="col-md-12">
                              <input type="text" placeholder="Enter Announcement" class="form-control" name="announcements" required>
                          </div>
                          <!-- <div class="col-sm-6">
                              <label for="Date" class="col-sm-6 col-form-label">Date</label>
                              <input type="date" class="form-control" id="Date" name="Date" required> 
                          </div> -->
                          <hr>
                          <div class="text-center">
                              <button type="submit" class="btn btn-primary">Submit</button>
                              <button type="reset" class="btn btn-secondary">Reset</button>
                          </div>
                          <hr>
                      </div>
  
                      </form>
  
  <!-- ---------- -->
  
              </div>
          </div>
      </div>

      <!-- ------------ -->

        <!-- <div id="grid" class="item-content animate__animated animate__fadeIn active" data-toggle-extra="tab-content">
            <div class="row">
                <div class="col-lg-4">

                    
                    {% if bdt %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                {% for i in bdt %}
                                <h6 class="mb-1">Wishing a fantastic birthday filled with joy and success – happy birthday {{ i }}!</h6>
                                {% endfor %}
                                <p class="mb-3">Techsture Technologies India Pvt. Ltd.</p>
    
                            </div>
                        </div>
                    </div>
                    {% endif %}  

                    {% if announcement %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Todays Announcements</h5>
                                {% for i in announcement %}
                                <p class="mb-3">{{i}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
  

                    {% if pendingleave %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Pending Leave Requests</h5>
                                {% for i in pendingleave %}
                                <p class="mb-1">{{i.leavetype}} | {{i.requestby}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    {% if pendingtask %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Pending Tasks</h5>
                                {% for i in pendingtask %}
                                <p class="mb-1">{{i.TaskName}} | {{i.Addedby}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    {% if event %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Events</h5>
                                <p class="mb-3">{{event.0}}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}

            </div> -->

            <div class="col-lg-6">
                <div class="card card-block card-stretch card-height">

                    {% if bdt %}
                    <div class="row-lg-6" >
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                {% for i in bdt %}
                                <h6 class="mb-1">Wishing a fantastic birthday filled with joy and success – happy birthday {{ i }}!</h6>
                                {% endfor %}
                                <p class="mb-3">Techsture Technologies India Pvt. Ltd.</p>
    
                            </div>
                        </div>
                    </div>
                    {% endif %}  

                    {% if announcement %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Todays Announcements</h5>
                                {% for i in announcement %}
                                <p class="mb-3">{{i}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
  

                    {% if pendingleave %}
                    <div class="row-lg-6" >
                        <div class="card card-block card-stretch card-height" >
                            <div class="card-body">
                                <h5 class="mb-1">Pending Leave Requests</h5>
                                {% for i in pendingleave %}
                                <p class="mb-1">{{i.leavetype}} | {{i.requestby}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    {% if pendingtask %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height" >
                            <div class="card-body">
                                <h5 class="mb-1">Pending Tasks</h5>
                                {% for i in pendingtask %}
                                <p class="mb-1">{{i.TaskName}} | {{i.Addedby}}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    {% if event %}
                    <div class="row-lg-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">Events</h5>
                                <p class="mb-3">{{event.0}}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}



                    <h5 class="card-header">Calender</h5>
                    <div class="card-body">
                        <div class="card border-bottom">
                            <div class="card-body text-center inln-date flet-datepickr">
                                <input type="text" id="inline-date" class="date-input basicFlatpickr d-none" readonly="readonly">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-lg-6" >
                <div class="card" >

                    <div class="m-4 align-items-center justify-content-between position-relative">
                            <h5 class="card-header">Recent Check-in-time | Check-out-time</h5>
                            <br>
                           <ul class="list-inline p-0 m-0 w-100">

                              {% for i in checks %}
                              <li>
                                {% if  request.session.is_admin == True %}
                                 <div class="row align-items-top">
                                    <div class="col-md-3 user-profile">
                                       <h5 class="mb-4"> {{i.user_profile}} </h6>
                                    </div>
                                    {% if i.check_out == None %}
                                    <div class="col-md-9">
                                       <div class="media profile-media align-items-top">
                                          <div class="profile border-primary mt-1"></div>
                                          <div class="ml-4">
                                             <h6 class="check-in mb-1">Check In | {{i.check_in}}</h6>
                                          </div>
                                       </div> 
                                    </div>
                                    {% else %}
                                    <div class="col-md-9">
                                        <div class="profile-media align-items-top">
                                           <div class="profile border-primary mt-1"></div>
                                           <div class="ml-4">
                                              <h6 class="check-in mb-1">Check In | {{i.check_in}}</h6>
                                              <h6 class="check-out mb-1">Check Out | {{i.check_out}}</h6>
                                           </div>
                                        </div> 
                                     </div>
                                     {% endif %}

                                 </div>
                                 {% else %}
                                 {% if i.check_out == None %}
                                 <div class="col-md-12">
                                    <div class="check-info media align-items-top">
                                       <div class="profile border-primary mt-1"></div>
                                       <div class="ml-4">
                                          <h5 class="check-in mb-1">Check In | {{i.check_in}}</h5>
                                       </div>
                                    </div> 
                                 </div>
                                 {% else %}
                                 <div class="col-md-12">
                                     <div class="check-info media align-items-top">
                                        <div class="profile border-primary mt-1"></div>
                                        <div class="ml-4">
                                           <h5 class="check-in mb-1">Check In | {{i.check_in}}</h5>
                                           <h5 class="check-out mb-1">Check Out | {{i.check_out}}</h5>
                                        </div>
                                     </div> 
                                  </div>
                                  {% endif %}
                                 {% endif %}
                              </li>
                              {% endfor %}
                              
                           </ul>
                        </div>

                    <!-- <h5 class="card-header">Recent Check-in-time | Check-out-time</h5>
                    <div class="card-body" style="text-align: center;">
                        {% for i in checks %}
                        <div class="check-info">
                            <div class="user-profile">{% if  request.session.is_admin == True %} {{i.user_profile}} {% endif %}</div>
                            {% if i.check_out == None %}
                            <div class="check-in">Check In | {{i.check_in}}</div>
                            {% else %}
                            <div class="col">
                                <div class="row-md-12 check-out">Check Out | {{i.check_out}}</div>
                                <div class="row-md-12 check-in">Check In | {{i.check_in}}</div>
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div> -->
                </div>
            </div>
            
            




            


            </div>
        </div>
   
    </div>
      </div>
</main>
{% endblock body %}
